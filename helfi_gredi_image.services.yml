services:
  helfi_gredi_image.client_factory:
    class: Drupal\helfi_gredi_image\GrediDamClient
    arguments: [ '@http_client' ]
  helfi_gredi_image.client:
    class: Drupal\helfi_gredi_image\Client
    arguments: ['@http_client', '@helfi_gredi_image.client_factory', '@request_stack']
  helfi_gredi_image.gredidam:
    class: Drupal\helfi_gredi_image\Gredidam
    arguments: [ '@helfi_gredi_image.client', '@helfi_gredi_image.client_factory', '@logger.factory' ]
  helfi_gredi_image.asset_media.factory:
    class: Drupal\helfi_gredi_image\Service\AssetMediaFactory
    arguments: [ '@entity_type.manager' ]
  helfi_gredi_image.asset_image.helper:
    class: Drupal\helfi_gredi_image\Service\AssetImageHelper
    arguments: [ '@config.factory', '@file_system', '@http_client', '@file.mime_type.guesser', '@image.factory', '@entity_type.manager' ]
  helfi_gredi_image.asset_metadata.helper:
    class: Drupal\helfi_gredi_image\Service\AssetMetadataHelper
    arguments: [ '@date.formatter', '@helfi_gredi_image.gredidam' ]
  helfi_gredi_image.asset_file.helper:
    class: Drupal\helfi_gredi_image\Service\AssetFileEntityHelper
    arguments: [ '@entity_type.manager', '@entity_field.manager','@config.factory', '@file_system', '@token', '@helfi_gredi_image.asset_image.helper', '@helfi_gredi_image.gredidam', '@helfi_gredi_image.asset_media.factory', '@logger.factory', '@http_client' ]
  helfi_gredi_image.asset_data:
    class: Drupal\helfi_gredi_image\AssetData
    arguments: [ '@database' ]
    tags:
      - { name: backend_overridable }
